# =============================================================================
# TrendCore Configuration (Copper)
# Version: 1.1
# Schema: Metals Quant Model Sleeve Config
# =============================================================================
schema_version: 1
sleeve: TrendCore
version: "1.1"
symbol: COPPER
description: >
  Slow trend-following sleeve for LME copper 3-month price.
  Executes on T (same-day close) with PnL beginning from T+1.
  Designed to capture persistent directional moves using a 252-day z-score filter.

# -----------------------------------------------------------------------------
# Input Data
# -----------------------------------------------------------------------------
inputs:
  excel: "../../data/copper/pricing/pricing_values.xlsx"
  sheet: "Raw"
  date_col: "Date"
  price_col: "copper_lme_3mo"

# -----------------------------------------------------------------------------
# Signal & Execution Parameters
# -----------------------------------------------------------------------------
run:
  cadence: "monwed"             # trade on Mondays and Wednesdays
  fill_timing: "close_T"        # position filled on same-day close
  pnl_start: "Tplus1"           # PnL begins from next day's return
  z_std_lb: 252                 # rolling lookback for z-score
  threshold: 0.6               # entry/exit z-threshold
  target_vol: 0.10              # 10% annualised vol target
  vol_lookback: 28              # rolling vol window (trading days)
  lev_cap: 2.5                  # max leverage multiple
  bps: 1.5                      # transaction cost (bps per turnover)
  oos_start: "2018-01-01"       # optional OOS split for testing

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
notes: |
  - Z-score = (log price - 252d mean) / 252d stdev.
  - Signal: +1 if z >= 0.6, -1 if z <= -0.6, else 0.
  - Trade executed at close of T; PnL starts from T+1.
  - Transaction costs applied only when exposure changes.
  - Ensure all calculations use data up to and including T (no lookahead).

# TrendCore — Changelog

## v1.1 — 2025-10-24
### Changed
- **Execution policy updated:** Now executes on the close of T with PnL beginning from T+1, aligning with live-safe execution logic across sleeves.
- **YAML schema:** Added `pnl_start: Tplus1` field for clarity and reproducibility.
- **Docs cleanup:** Simplified descriptions and added explicit cadence (`monwed`), vol parameters, and path placeholders.
- **Standardised cost convention:** Explicit 1.5 bps per turnover only on trade days.
- **Readability:** Improved `notes` section for replication by external quants.

### Notes
- v1.0 used implicit T-day execution and was ambiguous on PnL accrual timing.
- No logic changes to signal generation (`z >= 0.6 / z <= -0.6`); results unaffected except for improved timestamp alignment.
