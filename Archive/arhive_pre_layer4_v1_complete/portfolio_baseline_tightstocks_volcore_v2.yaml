# Baseline + TightStocks + VolCore Portfolio v2 - IS/OOS Validated
# ================================================================
# Three-way weights optimized on IS only, validated on OOS
#
# IMPORTANT: Uses 2017+ as IS start because:
# - VolCore requires mature options market (illiquid pre-2017)
# - Aligns IS period with when all components are valid
# - 50% discount on VolCore due to shorter validation history

# Base path for data files
base_path: "C:\\Code\\Metals"

# IS period configuration
is_start_date: "2017-01-01"
is_oos_cutoff: "2021-01-01"

# Component-specific allocation discounts
# Applied AFTER optimization, redistributed to baseline
allocation_discounts:
  volcore: 0.5  # 50% discount due to shorter IS period

# Grid search step (5% = tests BL/TS/VC combinations summing to 100%)
grid_step: 0.05

# Component sleeves
components:
  baseline:
    # 3-sleeve baseline (TrendMedium + TrendImpulse + MomentumCore)
    path: "outputs/Copper/Portfolio/BaselineEqualWeight/latest/daily_series.csv"
    position_col: "portfolio_pos"
    pnl_col: "pnl_gross"
    
  tightstocks:
    # TightStocks v2 with fixed vol targeting
    path: "outputs/Copper/TightStocks_v2/latest/daily_series.csv"
    position_col: "pos"
    pnl_col: "pnl_net"
    
  volcore:
    # VolCore v2 with fixed vol targeting + IS-optimized parameters
    path: "outputs/Copper/VolCore_v2/latest/daily_series.csv"
    position_col: "pos"
    pnl_col: "pnl_net"

# Output directory
output_dir: "outputs/Copper/Outputs/BaselineTightStocksVolCore_v2"

# Notes
notes:
  version: "v2"
  methodology: |
    IS optimization (2017-2020), OOS validation (2021-2025)
    VolCore receives 50% allocation discount due to:
    1. Shorter IS period than other sleeves
    2. LME copper options market illiquid pre-2017
    3. Conservative approach while strategy proves itself
  previous: "v1/Renaissance report had 35/45/20 but optimized on full period"
  key_question: "Does three-way beat best two-way with discounted VolCore?"
  review_criteria: |
    Scale-up trigger: If VolCore 12-month rolling Sharpe > 0.3
    Cut trigger: If VolCore 12-month rolling Sharpe < -0.3